// ============================================
// AI ì„œë¹„ìŠ¤ (ëª©ì—… ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ)
// ============================================

import { ChatMessage, ChatContext } from '@/app/data/chatData'

// -------------------- ëª©ì—… ì‘ë‹µ ë°ì´í„° --------------------

const mockResponses: Record<string, string> = {
  // ì¼ë°˜ ì§ˆë¬¸
  'ì²« ê³ ê°ì„ ì–´ë””ì„œ ì°¾ì•„ìš”?': `ì¢‹ì€ ì§ˆë¬¸ì´ì—ìš”! ì²« ê³ ê°ì„ ì°¾ëŠ” ê°€ì¥ íš¨ê³¼ì ì¸ ë°©ë²•ì€ **ê°€ê¹Œìš´ ê³³ë¶€í„°** ì‹œì‘í•˜ëŠ” ê±°ì˜ˆìš”.

**1ë‹¨ê³„: ì§€ì¸ ë„¤íŠ¸ì›Œí¬ í™œìš©**
- ì¹´ì¹´ì˜¤í†¡, ì¸ìŠ¤íƒ€ê·¸ë¨ì—ì„œ ê´€ì‹¬ ê°€ì§ˆ ë§Œí•œ ì§€ì¸ ì°¾ê¸°
- "ë„ì›€ ìš”ì²­" í˜•íƒœë¡œ ì ‘ê·¼í•˜ë©´ ê±°ì ˆë¥ ì´ ë‚®ì•„ìš”

**2ë‹¨ê³„: ì˜¨ë¼ì¸ ì»¤ë®¤ë‹ˆí‹° ì§„ì…**
- íƒ€ê²Ÿ ê³ ê°ì´ ëª¨ì¸ ì¹´í˜, ì˜¤í”ˆì±„íŒ…ë°© ê°€ì…
- ë¨¼ì € ë„ì›€ì„ ì£¼ë©´ì„œ ì‹ ë¢° ìŒ“ê¸°

**3ë‹¨ê³„: ì½œë“œ ì•„ì›ƒë¦¬ì¹˜**
- ë§í¬ë“œì¸, ì¸ìŠ¤íƒ€ê·¸ë¨ DMìœ¼ë¡œ ì§ì ‘ ì—°ë½
- 10ë²ˆ ì¤‘ 1-2ë²ˆ ì‘ë‹µë°›ìœ¼ë©´ ì˜í•˜ëŠ” ê±°ì˜ˆìš”!

ì–´ë–¤ ë°©ë²•ë¶€í„° ì‹œì‘í•´ë³¼ê¹Œìš”?`,

  'ê°€ê²©ì€ ì–´ë–»ê²Œ ì •í•˜ë‚˜ìš”?': `ê°€ê²© ì±…ì •ì€ ë§ì€ ì°½ì—…ìë“¤ì´ ì–´ë ¤ì›Œí•˜ëŠ” ë¶€ë¶„ì´ì—ìš”. ëª‡ ê°€ì§€ ë°©ë²•ì„ ì•Œë ¤ë“œë¦´ê²Œìš”.

**1. ì›ê°€ ê¸°ë°˜ ê°€ê²©**
ì›ê°€ + ë§ˆì§„ìœ¨ = íŒë§¤ê°€
(ë‹¨ì : ê³ ê° ê°€ì¹˜ë¥¼ ë°˜ì˜ ëª»í•¨)

**2. ê²½ìŸ ê¸°ë°˜ ê°€ê²©**
ê²½ìŸì‚¬ ê°€ê²© ì°¸ê³ í•´ì„œ ë¹„ìŠ·í•˜ê²Œ or ì°¨ë³„í™”
(ë‹¨ì : ë ˆë“œì˜¤ì…˜ì—ì„œ ê°€ê²© ê²½ìŸ ìœ„í—˜)

**3. ê°€ì¹˜ ê¸°ë°˜ ê°€ê²©** â­ ì¶”ì²œ
ê³ ê°ì´ ì–»ëŠ” ê°€ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì±…ì •
"ì´ ë¬¸ì œ í•´ê²°ì— ì–¼ë§ˆë¥¼ ì“¸ ì˜í–¥ì´ ìˆë‚˜ìš”?"

**ì‹¤ì „ íŒ:**
- ì²˜ìŒì—” ì¡°ê¸ˆ ë‚®ê²Œ ì‹œì‘í•´ì„œ ì ì§„ì ìœ¼ë¡œ ì˜¬ë¦¬ê¸°
- ê°€ê²© í…ŒìŠ¤íŠ¸: A/B í…ŒìŠ¤íŠ¸ë¡œ ë°˜ì‘ í™•ì¸
- 3ê°€ì§€ í‹°ì–´(Basic/Pro/Enterprise) ì œê³µ

í˜„ì¬ ì–´ë–¤ ì„œë¹„ìŠ¤ë¥¼ ê³„íší•˜ê³  ê³„ì„¸ìš”?`,

  'MVPëŠ” ë­˜ ë§Œë“¤ì–´ì•¼ í•˜ë‚˜ìš”?': `MVP(Minimum Viable Product)ëŠ” **ìµœì†Œí•œì˜ ê¸°ëŠ¥ìœ¼ë¡œ í•µì‹¬ ê°€ì„¤ì„ ê²€ì¦**í•˜ëŠ” ì œí’ˆì´ì—ìš”.

**MVPì˜ í•µì‹¬:**
- ì™„ë²½í•œ ì œí’ˆ âŒ
- í•µì‹¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ìµœì†Œí•œì˜ ê²ƒ âœ…

**MVP ìœ í˜•:**
1. **ëœë”©í˜ì´ì§€ MVP**: ì„¤ëª… + ì´ë©”ì¼ ìˆ˜ì§‘
2. **ì»¨ì‹œì–´ì§€ MVP**: ìˆ˜ë™ìœ¼ë¡œ ì„œë¹„ìŠ¤ ì œê³µ
3. **ìœ„ìë“œ ì˜¤ë¸Œ ì˜¤ì¦ˆ**: ìë™í™”ëœ ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ìˆ˜ë™
4. **ë…¸ì½”ë“œ MVP**: Notion, Airtableë¡œ ë¹ ë¥´ê²Œ êµ¬ì¶•

**ì¢‹ì€ MVPì˜ ì¡°ê±´:**
- 1ì£¼ì¼ ì•ˆì— ë§Œë“¤ ìˆ˜ ìˆì–´ì•¼ í•¨
- í•µì‹¬ ê°€ì„¤ 1ê°œë§Œ ê²€ì¦
- ê³ ê° í”¼ë“œë°±ì„ ë°›ì„ ìˆ˜ ìˆì–´ì•¼ í•¨

ì–´ë–¤ ì„œë¹„ìŠ¤ë¥¼ ì¤€ë¹„ ì¤‘ì´ì‹ ê°€ìš”? ë§ì¶¤ MVPë¥¼ ì œì•ˆí•´ë“œë¦´ê²Œìš”!`,

  // ë‹¨ê³„ë³„ ì§ˆë¬¸
  'íƒ€ê²Ÿì„ ì–´ëŠ ì •ë„ë¡œ ì¢í˜€ì•¼ í•˜ë‚˜ìš”?': `ì¢‹ì€ ì§ˆë¬¸ì´ì—ìš”! ì²˜ìŒì—ëŠ” **ê·¹ë„ë¡œ ì¢ê²Œ** ì‹œì‘í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”.

**ì¢‹ì€ íƒ€ê²Ÿì˜ ì˜ˆ:**
- âŒ "ì§ì¥ì¸" (ë„ˆë¬´ ë„“ìŒ)
- âŒ "20-30ëŒ€ ì—¬ì„±" (ì•„ì§ë„ ë„“ìŒ)
- âœ… "ì„œìš¸ ê°•ë‚¨ì—ì„œ ì¼í•˜ëŠ” 3ë…„ì°¨ ë§ˆì¼€í„°ë¡œ, í‡´ê·¼ í›„ ë¶€ì—…ì— ê´€ì‹¬ìˆëŠ” 28-32ì„¸"

**ì™œ ì¢í˜€ì•¼ í•˜ë‚˜ìš”?**
1. **ë©”ì‹œì§€ê°€ ë” ì™€ë‹¿ì•„ìš”** - "ë‹¹ì‹ ì„ ìœ„í•œ" ëŠë‚Œ
2. **ì°¾ê¸°ê°€ ë” ì‰¬ì›Œìš”** - ì–´ë”” ìˆëŠ”ì§€ ëª…í™•í•¨
3. **í”¼ë“œë°±ì´ ë” êµ¬ì²´ì ì´ì—ìš”** - ì§„ì§œ ë‹ˆì¦ˆ íŒŒì•…

**ì¢íˆëŠ” ê¸°ì¤€:**
- ì¸êµ¬í†µê³„: ë‚˜ì´, ì„±ë³„, ì§ì—…, ì§€ì—­
- ìƒí™©: íŠ¹ì • ë¬¸ì œë¥¼ ê²ªëŠ” ì‹œì 
- í–‰ë™: ì´ë¯¸ í•´ê²°í•˜ë ¤ê³  ë…¸ë ¥ ì¤‘ì¸ ì‚¬ëŒ

ë‚˜ì¤‘ì— í™•ì¥í•˜ë©´ ë˜ë‹ˆê¹Œ, ì²˜ìŒì—” ê³¼ê°í•˜ê²Œ ì¢í˜€ë³´ì„¸ìš”!`,

  'ì½œë“œ ë©”ì‹œì§€ ì–´ë–»ê²Œ ë³´ë‚´ìš”?': `ì½œë“œ ë©”ì‹œì§€, ì–´ë µì§€ ì•Šì•„ìš”! í•µì‹¬ì€ **ìƒëŒ€ë°© ê´€ì **ì—ì„œ ì“°ëŠ” ê±°ì˜ˆìš”.

**ì¢‹ì€ ì½œë“œ ë©”ì‹œì§€ ê³µì‹:**

\`\`\`
[ê³µê°] + [ê°€ì¹˜ ì œì•ˆ] + [ì‘ì€ ìš”ì²­]
\`\`\`

**ì˜ˆì‹œ:**
> ì•ˆë…•í•˜ì„¸ìš”! í”„ë¡œí•„ ë³´ê³  ì—°ë½ë“œë ¤ìš”.
> ì €ë„ í”„ë¦¬ëœì„œë¡œ ì¼í•˜ë©´ì„œ ì„¸ê¸ˆ ì‹ ê³  ë•Œë¬¸ì— ê³ ìƒí–ˆëŠ”ë°,
> í˜¹ì‹œ ë¹„ìŠ·í•œ ê³ ë¯¼ ìˆìœ¼ì‹œë©´ 15ë¶„ë§Œ ì´ì•¼ê¸° ë‚˜ëˆŒ ìˆ˜ ìˆì„ê¹Œìš”?
> ì œê°€ ì°¾ì€ íŒë„ ê³µìœ ë“œë¦´ê²Œìš”!

**í”¼í•´ì•¼ í•  ê²ƒ:**
- âŒ ì¥í™©í•œ ìê¸°ì†Œê°œ
- âŒ ë°”ë¡œ íŒë§¤í•˜ë ¤ëŠ” ì˜ë„
- âŒ ë³µë¶™ í‹° ë‚˜ëŠ” ë©”ì‹œì§€

**ì‹¤ì „ íŒ:**
- í”„ë¡œí•„/ê²Œì‹œë¬¼ ì–¸ê¸‰í•˜ë©´ ì‘ë‹µë¥  UP
- "í”¼ë“œë°±/ì¡°ì–¸ ìš”ì²­" í˜•íƒœê°€ íš¨ê³¼ì 
- 10ëª…ì—ê²Œ ë³´ë‚´ë©´ 1-2ëª… ì‘ë‹µì´ ì •ìƒì´ì—ìš”!`,

  'ì§€ì¸í•œí…Œ ë¶€íƒí•˜ê¸° ë¯¼ë§í•´ìš”': `ê·¸ ë§ˆìŒ ì™„ì „ ì´í•´í•´ìš”! ë§ì€ ì°½ì—…ìë“¤ì´ ê°™ì€ ê³ ë¯¼ì„ í•´ìš”.

**ë§ˆì¸ë“œì…‹ ì „í™˜:**
- "ë¶€íƒ" âŒ â†’ "ê¸°íšŒ ì œê³µ" âœ…
- ì¢‹ì€ ì„œë¹„ìŠ¤ë¼ë©´ ì§€ì¸ë„ í˜œíƒì„ ë°›ëŠ” ê±°ì˜ˆìš”

**ë¯¼ë§í•¨ì„ ì¤„ì´ëŠ” ë°©ë²•:**

**1. ë„ì›€ ìš”ì²­ í”„ë ˆì´ë°**
> "ì‚¬ì—… ì¤€ë¹„ ì¤‘ì¸ë°, ë„¤ ì˜ê²¬ì´ ì •ë§ í•„ìš”í•´. 15ë¶„ë§Œ ì‹œê°„ ì¤„ ìˆ˜ ìˆì–´?"

**2. ê°€ì¹˜ ë¨¼ì € ì œê³µ**
> "ì´ê±° ë„¤í•œí…Œ ë„ì›€ ë  ê²ƒ ê°™ì•„ì„œ ê³µìœ í•´!"

**3. ê±°ì ˆ ì—¬ì§€ ì£¼ê¸°**
> "ë°”ì˜ë©´ ì „í˜€ ë¶€ë‹´ ì—†ì–´! í˜¹ì‹œ ê´€ì‹¬ ìˆì„ê¹Œ í•´ì„œ~"

**ì‹¤ì œ í•´ë³´ë©´:**
- ëŒ€ë¶€ë¶„ ê¸°êº¼ì´ ë„ì™€ì¤˜ìš”
- ê±°ì ˆí•´ë„ ê´€ê³„ê°€ ë‚˜ë¹ ì§€ì§€ ì•Šì•„ìš”
- ì˜¤íˆë ¤ ì‘ì›í•´ì£¼ëŠ” ê²½ìš°ê°€ ë§ì•„ìš”

ì²˜ìŒ í•œ ëª…ë§Œ ì—°ë½í•´ë³´ì„¸ìš”. ìƒê°ë³´ë‹¤ ì˜ ë¼ìš”! ğŸ’ª`,

  // ë§‰í˜”ì„ ë•Œ
  'ë­ë¶€í„° í•´ì•¼ í• ì§€ ëª¨ë¥´ê² ì–´ìš”': `ê´œì°®ì•„ìš”! ë§‰ë§‰í•œ ê±´ ìì—°ìŠ¤ëŸ¬ìš´ ê±°ì˜ˆìš”.

**ì§€ê¸ˆ ë°”ë¡œ í•  ìˆ˜ ìˆëŠ” 3ê°€ì§€:**

**1. ê°€ì¥ ì‘ì€ ê²ƒë¶€í„°** (5ë¶„)
- ì²´í¬ë¦¬ìŠ¤íŠ¸ ì²« ë²ˆì§¸ í•­ëª©ë§Œ ì§‘ì¤‘
- ì™„ë²½í•˜ì§€ ì•Šì•„ë„ OK

**2. ì˜ˆì‹œ ë”°ë¼í•˜ê¸°** (10ë¶„)
- í…œí”Œë¦¿ ê·¸ëŒ€ë¡œ ë³µì‚¬í•´ì„œ ìˆ˜ì •
- ì²˜ìŒë¶€í„° ì°½ì‘í•˜ë ¤ í•˜ì§€ ì•Šê¸°

**3. ì¼ë‹¨ ì ì–´ë³´ê¸°** (5ë¶„)
- ìƒê°ë‚˜ëŠ” ëŒ€ë¡œ ë§‰ ì ê¸°
- ì •ë¦¬ëŠ” ë‚˜ì¤‘ì—

**í•µì‹¬:**
ì™„ë²½í•œ ì¤€ë¹„ âŒ â†’ ì‘ì€ ì‹¤í–‰ âœ…

ì§€ê¸ˆ ì–´ë–¤ ë‹¨ê³„ì—ì„œ ë§‰íˆì…¨ì–´ìš”? ë” êµ¬ì²´ì ìœ¼ë¡œ ë„ì™€ë“œë¦´ê²Œìš”!`,

  'ì˜ˆì‹œê°€ ë” í•„ìš”í•´ìš”': `ë„¤, ì˜ˆì‹œë¥¼ ë³´ë©´ í›¨ì”¬ ì´í•´ê°€ ì‰½ì£ !

í˜„ì¬ ì–´ë–¤ ë‹¨ê³„ë¥¼ ì§„í–‰ ì¤‘ì´ì‹ ê°€ìš”?
- **íƒ€ê²Ÿ ê³ ê° ì •í•˜ê¸°**: í˜ë¥´ì†Œë‚˜ ì˜ˆì‹œ
- **ê³ ê° ì°¾ê¸°**: ë©”ì‹œì§€ í…œí”Œë¦¿
- **ì¸í„°ë·°**: ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸

ì›í•˜ì‹œëŠ” ì˜ˆì‹œë¥¼ ë§ì”€í•´ì£¼ì‹œë©´ ë°”ë¡œ ë³´ì—¬ë“œë¦´ê²Œìš”!`,

  'ë‚´ ìƒí™©ì— ë§ëŠ” ì¡°ì–¸ì´ í•„ìš”í•´ìš”': `ë¬¼ë¡ ì´ì£ ! ë§ì¶¤ ì¡°ì–¸ì„ ë“œë¦´ê²Œìš”.

ëª‡ ê°€ì§€ ì—¬ì­¤ë³¼ê²Œìš”:

1. **ì–´ë–¤ ì„œë¹„ìŠ¤/ì œí’ˆ**ì„ ì¤€ë¹„ ì¤‘ì´ì‹ ê°€ìš”?
2. **íƒ€ê²Ÿ ê³ ê°**ì€ ëˆ„êµ¬ì˜ˆìš”?
3. **í˜„ì¬ ê°€ì¥ ë§‰íˆëŠ” ë¶€ë¶„**ì€ ë­ì˜ˆìš”?

ê°„ë‹¨í•˜ê²Œ ì•Œë ¤ì£¼ì‹œë©´ ìƒí™©ì— ë§ê²Œ ë„ì™€ë“œë¦´ê²Œìš”! ğŸ™‚`
}

// ê¸°ë³¸ ì‘ë‹µ (ë§¤ì¹­ ì•ˆ ë  ë•Œ)
const defaultResponse = `ì¢‹ì€ ì§ˆë¬¸ì´ì—ìš”!

ë§ì”€í•˜ì‹  ë¶€ë¶„ì— ëŒ€í•´ ë” ìì„¸íˆ ì•Œë ¤ë“œë¦¬ê³  ì‹¶ì€ë°, ì¡°ê¸ˆ ë” êµ¬ì²´ì ìœ¼ë¡œ ì—¬ì­¤ë´ë„ ë ê¹Œìš”?

ì˜ˆë¥¼ ë“¤ì–´:
- í˜„ì¬ ì–´ë–¤ ìƒí™©ì´ì‹ ê°€ìš”?
- ì–´ë–¤ ì ì´ ê°€ì¥ ì–´ë ¤ìš°ì„¸ìš”?
- ì´ë¯¸ ì‹œë„í•´ë³´ì‹  ê²Œ ìˆë‚˜ìš”?

í¸í•˜ê²Œ ë§ì”€í•´ì£¼ì„¸ìš”! ğŸ™‚`

// -------------------- ì„œë¹„ìŠ¤ í•¨ìˆ˜ --------------------

/** ë”œë ˆì´ ìœ í‹¸ë¦¬í‹° */
const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))

/** ì§ˆë¬¸ì— ë§ëŠ” ì‘ë‹µ ì°¾ê¸° */
function findResponse(question: string, context?: ChatContext): string {
  // ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ê²½ìš°
  if (mockResponses[question]) {
    return mockResponses[question]
  }

  // í‚¤ì›Œë“œ ê¸°ë°˜ ë§¤ì¹­
  const lowerQuestion = question.toLowerCase()

  if (lowerQuestion.includes('ê³ ê°') && lowerQuestion.includes('ì°¾')) {
    return mockResponses['ì²« ê³ ê°ì„ ì–´ë””ì„œ ì°¾ì•„ìš”?']
  }
  if (lowerQuestion.includes('ê°€ê²©') || lowerQuestion.includes('ì–¼ë§ˆ')) {
    return mockResponses['ê°€ê²©ì€ ì–´ë–»ê²Œ ì •í•˜ë‚˜ìš”?']
  }
  if (lowerQuestion.includes('mvp') || lowerQuestion.includes('ìµœì†Œ')) {
    return mockResponses['MVPëŠ” ë­˜ ë§Œë“¤ì–´ì•¼ í•˜ë‚˜ìš”?']
  }
  if (lowerQuestion.includes('íƒ€ê²Ÿ') || lowerQuestion.includes('ì¢')) {
    return mockResponses['íƒ€ê²Ÿì„ ì–´ëŠ ì •ë„ë¡œ ì¢í˜€ì•¼ í•˜ë‚˜ìš”?']
  }
  if (lowerQuestion.includes('ì½œë“œ') || lowerQuestion.includes('ë©”ì‹œì§€')) {
    return mockResponses['ì½œë“œ ë©”ì‹œì§€ ì–´ë–»ê²Œ ë³´ë‚´ìš”?']
  }
  if (lowerQuestion.includes('ì§€ì¸') || lowerQuestion.includes('ë¯¼ë§')) {
    return mockResponses['ì§€ì¸í•œí…Œ ë¶€íƒí•˜ê¸° ë¯¼ë§í•´ìš”']
  }
  if (lowerQuestion.includes('ë­ë¶€í„°') || lowerQuestion.includes('ëª¨ë¥´ê² ')) {
    return mockResponses['ë­ë¶€í„° í•´ì•¼ í• ì§€ ëª¨ë¥´ê² ì–´ìš”']
  }
  if (lowerQuestion.includes('ì˜ˆì‹œ')) {
    return mockResponses['ì˜ˆì‹œê°€ ë” í•„ìš”í•´ìš”']
  }
  if (lowerQuestion.includes('ë‚´ ìƒí™©') || lowerQuestion.includes('ë§ì¶¤')) {
    return mockResponses['ë‚´ ìƒí™©ì— ë§ëŠ” ì¡°ì–¸ì´ í•„ìš”í•´ìš”']
  }

  // ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ê¸°ë³¸ ì‘ë‹µ
  if (context?.stepTitle) {
    return `"${context.stepTitle}" ë‹¨ê³„ì— ëŒ€í•´ ì§ˆë¬¸í•´ì£¼ì…¨ë„¤ìš”!\n\n${defaultResponse}`
  }

  return defaultResponse
}

/** ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ìƒì„±ê¸° */
export async function* generateStreamingResponse(
  messages: ChatMessage[],
  context?: ChatContext
): AsyncGenerator<string> {
  // ë§ˆì§€ë§‰ ì‚¬ìš©ì ë©”ì‹œì§€ ì°¾ê¸°
  const lastUserMessage = [...messages].reverse().find(m => m.role === 'user')

  if (!lastUserMessage) {
    yield defaultResponse
    return
  }

  const response = findResponse(lastUserMessage.content, context)

  // ê¸€ì ë‹¨ìœ„ë¡œ ìŠ¤íŠ¸ë¦¬ë° (íƒ€ì´í•‘ íš¨ê³¼)
  for (let i = 0; i < response.length; i++) {
    await delay(15) // íƒ€ì´í•‘ ì†ë„ ì¡°ì ˆ
    yield response[i]
  }
}

/** í•œ ë²ˆì— ì‘ë‹µ ê°€ì ¸ì˜¤ê¸° (ìŠ¤íŠ¸ë¦¬ë° ì•„ë‹ ë•Œ) */
export async function getResponse(
  messages: ChatMessage[],
  context?: ChatContext
): Promise<string> {
  const lastUserMessage = [...messages].reverse().find(m => m.role === 'user')

  if (!lastUserMessage) {
    return defaultResponse
  }

  // ì•½ê°„ì˜ ë”œë ˆì´ë¡œ ìì—°ìŠ¤ëŸ¬ì›€ ì¶”ê°€
  await delay(500)

  return findResponse(lastUserMessage.content, context)
}

/** ì¶”ì²œ í›„ì† ì§ˆë¬¸ ìƒì„± */
export function getSuggestedFollowUps(lastResponse: string): string[] {
  // ì‘ë‹µ ë‚´ìš©ì— ë”°ë¼ ê´€ë ¨ í›„ì† ì§ˆë¬¸ ì œì•ˆ
  const followUps: string[] = []

  if (lastResponse.includes('ê³ ê°') || lastResponse.includes('íƒ€ê²Ÿ')) {
    followUps.push('ì˜ˆì‹œ ì¢€ ë” ë³´ì—¬ì¤˜')
    followUps.push('ë‚´ ìƒí™©ì— ë§ê²Œ ì•Œë ¤ì¤˜')
  }
  if (lastResponse.includes('ë©”ì‹œì§€') || lastResponse.includes('ì—°ë½')) {
    followUps.push('í…œí”Œë¦¿ ì¢€ ì¤˜')
    followUps.push('ê±°ì ˆë‹¹í•˜ë©´ ì–´ë–»ê²Œ í•´?')
  }
  if (lastResponse.includes('ê°€ê²©') || lastResponse.includes('MVP')) {
    followUps.push('êµ¬ì²´ì ì¸ ì˜ˆì‹œ ì•Œë ¤ì¤˜')
    followUps.push('ë‹¤ìŒ ë‹¨ê³„ëŠ” ë­ì•¼?')
  }

  // ê¸°ë³¸ í›„ì† ì§ˆë¬¸
  if (followUps.length === 0) {
    followUps.push('ë” ìì„¸íˆ ì•Œë ¤ì¤˜')
    followUps.push('ì˜ˆì‹œê°€ í•„ìš”í•´')
    followUps.push('ë‹¤ìŒì€ ë­˜ í•´ì•¼ í•´?')
  }

  return followUps.slice(0, 3)
}
